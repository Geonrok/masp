# KOSPI200 Futures Strategy Configuration
# =========================================
# Validated A+ Grade Strategies for KOSPI200 Futures Trading
#
# All strategies validated through:
# - Realistic costs (0.09% round-trip)
# - Walk-Forward analysis (70/30 split)
# - Monte Carlo simulation (1,000 iterations)
# - Stress tests (COVID crash, 2022 rate hike)

strategy:
  id: kospi200_stable_portfolio
  name: "KOSPI200 Stable Portfolio"
  version: "1.0.0"
  description: "Optimal daily portfolio: Sharpe 2.37, CAGR 23.1%, MDD -11.5%"

# Target symbol
symbols:
  - KOSPI200

# Sub-strategy configuration
enabled_strategies:
  - vix_below_sma20      # A+ Grade: Sharpe 2.25
  - vix_declining        # A+ Grade: Sharpe 1.86, best crisis performance
  - semicon_foreign      # A Grade: Sharpe 1.53, bull market specialist

# Portfolio weights (must sum to 1.0)
strategy_weights:
  vix_below_sma20: 0.50   # Main strategy
  vix_declining: 0.30     # Crisis hedge
  semicon_foreign: 0.20   # Factor enhancement

# Strategy parameters
parameters:
  # VIX strategies
  vix_sma_period: 20

  # Semicon/Foreign strategy
  semicon_sma_period: 20
  foreign_lookback_days: 20

  # Hourly strategies (if enabled)
  sma_short_period: 15
  sma_mid_period: 20
  sma_long_period: 30
  ema_short_period: 15
  ema_long_period: 20

# Risk management
risk:
  max_position_pct: 1.0          # 100% max position
  round_trip_cost: 0.0009        # 0.09% realistic cost
  daily_loss_limit: -3.0         # -3% daily stop
  max_drawdown_limit: -15.0      # -15% max drawdown
  position_size_contracts: 1     # Number of futures contracts

# Data paths
data:
  kospi_data_dir: "E:/투자/data/kospi_futures"
  investor_data_dir: "E:/투자/data/kr_stock/investor_trading"
  multi_asset_dir: "E:/투자/data/kosdaq_futures/multi_asset"

# Schedule
schedule:
  # Daily strategies: check once per day at market open
  daily:
    mode: "cron"
    cron: "0 9 * * 1-5"  # 09:00 KST, Mon-Fri
    timezone: "Asia/Seoul"

  # Hourly strategies: check every hour during market hours
  hourly:
    mode: "cron"
    cron: "0 9-15 * * 1-5"  # Every hour 09:00-15:00 KST, Mon-Fri
    timezone: "Asia/Seoul"

# Execution settings
execution:
  adapter_mode: "paper"          # paper or real
  dry_run: true                  # true = no actual orders
  order_type: "market"           # market or limit
  slippage_buffer: 0.0004        # 0.04% slippage buffer

# Notifications
notifications:
  telegram:
    enabled: false
    # chat_id: "YOUR_CHAT_ID"
    # bot_token: "YOUR_BOT_TOKEN"
  signal_change_alert: true
  daily_report: true
  daily_report_time: "16:00"

# Validated Performance (reference)
validated_performance:
  stable_portfolio:
    sharpe: 2.37
    cagr: "23.1%"
    max_drawdown: "-11.5%"
    win_rate_annual: "100%"
    covid_2020_03: "+1.8%"
    rate_hike_2022: "+8.5%"

  individual_strategies:
    vix_below_sma20:
      sharpe: 2.25
      cagr: "27.8%"
      max_drawdown: "-12.0%"
      grade: "A+"

    vix_declining:
      sharpe: 1.86
      cagr: "19.1%"
      max_drawdown: "-13.3%"
      grade: "A+"
      note: "Best crisis performance"

    semicon_foreign:
      sharpe: 1.53
      cagr: "16.6%"
      max_drawdown: "-14.8%"
      grade: "A"
      note: "Bull market specialist"

# Alternative configurations
alternatives:
  # Aggressive portfolio (higher risk/reward)
  aggressive:
    id: kospi200_aggressive_portfolio
    enabled_strategies:
      - ema_15_20_hourly
      - sma_20_30_hourly
      - vix_below_sma20
    strategy_weights:
      ema_15_20_hourly: 0.40
      sma_20_30_hourly: 0.30
      vix_below_sma20: 0.30
    expected:
      sharpe: 2.5
      cagr: "30%+"
      max_drawdown: "-15%"

  # Hourly only (high frequency)
  hourly_only:
    id: kospi200_hourly_ma
    enabled_strategies:
      - sma_15_30_hourly
      - ema_15_20_hourly
      - sma_20_30_hourly
    expected:
      sharpe: 2.65
      cagr: "36.5%"
      max_drawdown: "-10.3%"
